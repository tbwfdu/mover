<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title class="pageTitle">Mover</title>
	<meta name="description" content="MDM Device Migration Utility">

	<link rel="shortcut icon" href="/assets/mover.png">

	<!-- Smart App Banner -->
	

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
	<link rel="stylesheet" href="/main.css">
</head>

<body class="subPageBody">
    <div class="headerBackground subPageHeaderBackground">
        <div class="subContainer subPageContainer">
        <header>
	<div class="logo">
		<div class="appIconShadow">
			
				<a href="../" target="_self"><img class="headerIcon" src="/assets/mover.png"></a>
			
			<div class="divider"></div>
		</div>
		<p class="headerName">Mover</p>
	</div>
	<nav class="scroll">
		<ul>
            
			
				
				<li><a href="/gettingstarted/" target="_self">Getting Started</a></li>
				
			
				
				<li><a href="/usage/" target="_self">Usage</a></li>
				
			
				
				<li><a href="/faq/" target="_self">FAQs</a></li>
				
			
		</ul>
        
	</nav>
    
</header>
            <article class="page markdown-body">
                <h1 class="no_toc" id="usage">Usage</h1>

<h3 class="no_toc text-delta" id="common-tasks">Common Tasks</h3>

<ul id="markdown-toc">
  <li><a href="#creating-the-settingsjson-config-file" id="markdown-toc-creating-the-settingsjson-config-file">Creating the settings.json Config File</a>    <ul>
      <li><a href="#environment-settings-options" id="markdown-toc-environment-settings-options">Environment Settings Options</a></li>
      <li><a href="#device-options" id="markdown-toc-device-options">Device Options</a></li>
      <li><a href="#migration-options" id="markdown-toc-migration-options">Migration Options</a></li>
      <li><a href="#post-migration-options" id="markdown-toc-post-migration-options">Post Migration Options</a></li>
    </ul>
  </li>
  <li><a href="#validating-settings" id="markdown-toc-validating-settings">Validating Settings</a></li>
  <li><a href="#deployment" id="markdown-toc-deployment">Deployment</a>    <ul>
      <li><a href="#workspace-one-uem" id="markdown-toc-workspace-one-uem">Workspace ONE UEM</a></li>
      <li><a href="#intune" id="markdown-toc-intune">Intune</a></li>
    </ul>
  </li>
  <li><a href="#initiating-a-migration" id="markdown-toc-initiating-a-migration">Initiating a Migration</a>    <ul>
      <li><a href="#workspace-one-uem-1" id="markdown-toc-workspace-one-uem-1">Workspace ONE UEM</a></li>
      <li><a href="#intune-1" id="markdown-toc-intune-1">Intune</a></li>
    </ul>
  </li>
</ul>

<p><br /></p>

<h2 id="creating-the-settingsjson-config-file">Creating the settings.json Config File</h2>

<p>New in Mover 2.0+, you can now use the Mover_Admin.exe file to generate and validate the configuration settings used during the Mover migration process.</p>

<p>Opening <strong>Mover_Admin.exe</strong> presents you with a series of screens that walks you through providing the required information and at the end will validate the correct combinations of settings and if correct will generate a settings.json file.</p>

<p><img src="../assets/images/MoverAdminEnvSettings.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<blockquote>
  <h3 class="no_toc" id="️-important">⚠️ Important</h3>
  <p><strong>Mover_Admin.exe</strong> also accepts arguments when being started.</p>

  <p>You should <strong>only</strong> specify –initiate-migration as an argument when intending to start a real-world migration of the device</p>

  <p><strong>and</strong></p>

  <p>You should <strong>only</strong> specify –revert as an argument when intending to revert any device migration configuration from a device.</p>
</blockquote>

<p><br /></p>
<h3 id="environment-settings-options">Environment Settings Options</h3>

<p>This is the initial page where you specify the environment details of the <strong>destination</strong> Workspace ONE UEM Environment.</p>

<p><img src="../assets/images/MoverAdminEnv_MDMSource.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Setting</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Staging Username</td>
      <td style="text-align: left">The user account <em>already created</em> in Workspace ONE UEM configured for Single User staging</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">Staging Password</td>
      <td style="text-align: left">The password for the above account</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">Enrollment Org Group</td>
      <td style="text-align: left">The GroupID value of the Organization Group where the devices will enroll</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">Workspace ONE Device Services URL</td>
      <td style="text-align: left">The “ds” URL of your UEM Environment  <br /> (eg. <code class="language-plaintext highlighter-rouge">https://ds1234.awmdm.com</code>)</td>
      <td style="text-align: left">Ensure you use <code class="language-plaintext highlighter-rouge">dsXXXX</code> not <em><code class="language-plaintext highlighter-rouge">cn</code></em> or <em><code class="language-plaintext highlighter-rouge">as</code></em></td>
    </tr>
    <tr>
      <td style="text-align: left">Source MDM</td>
      <td style="text-align: left">Which MDM the device is currently enrolled in</td>
      <td style="text-align: left">This presents different configuration options and also will perform different actions on the device being migrated</td>
    </tr>
  </tbody>
</table>

<p><br /></p>
<h3 id="device-options">Device Options</h3>

<p>Here you configure how the device should be set up for the migration. Primarily this is for specifying the Administrator account to be created or used locally on the device.</p>

<p><img src="../assets/images/MoverAdminDeviceSettings.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Setting</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Migration Account Type</td>
      <td style="text-align: left">Create New Account</td>
      <td style="text-align: left">This option will create a <em>new</em> local account with Administrator privileges to perform the migration. By default, the username is “mover”</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">Use Built-In Administrator Account</td>
      <td style="text-align: left">This option will use the Administrator account built into Windows and will enable it temporarily for migration.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">Specify Administrator Account</td>
      <td style="text-align: left">If you have <em>already</em> renamed the Administrator account on devices or if you have a different local Administrator account, select this option and specify the Username and Password</td>
    </tr>
    <tr>
      <td style="text-align: left">Generate Password</td>
      <td style="text-align: left">Generate a password for the above account</td>
      <td style="text-align: left">If set to <code class="language-plaintext highlighter-rouge">true</code>, this will generate a random 15 character password and will set this on the created account or the built-in Administrator account</td>
    </tr>
  </tbody>
</table>

<p><br /></p>
<h3 id="migration-options">Migration Options</h3>

<p>Here you can set some more specific settings around actions the device should perform.</p>

<p><img src="../assets/images/MoverAdminMigrationOptionsSettings.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Setting</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Download Agent</td>
      <td style="text-align: left">Instructs Mover to download the latest agent</td>
      <td style="text-align: left">If set to <code class="language-plaintext highlighter-rouge">off</code>, you must also provide the <code class="language-plaintext highlighter-rouge">AirwatchAgent.msi</code> installer in the same folder as Mover.exe</td>
    </tr>
    <tr>
      <td style="text-align: left">Force Fullscreen</td>
      <td style="text-align: left">Instructs Mover to run in Fullscreen and cannot be minimized or resized</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">Allow Exit</td>
      <td style="text-align: left">Whether Mover is able to exited by using the Close button</td>
      <td style="text-align: left">By default, <code class="language-plaintext highlighter-rouge">Allow Exit</code> is off. It enabled, it will allow anyone with access to the device to close the app.</td>
    </tr>
    <tr>
      <td style="text-align: left">Enable Lockdown Mode</td>
      <td style="text-align: left">Whether to apply device lockdown configuration while migration</td>
      <td style="text-align: left">Strongly recommended to leave <code class="language-plaintext highlighter-rouge">On</code> as this removes the ability for users to access Task Manager and other settings from the CTRL+ALT+DEL menu</td>
    </tr>
    <tr>
      <td style="text-align: left">Enable Minimal UI Mode</td>
      <td style="text-align: left">Use the default UI experience or a minimal Windows-like screen</td>
      <td style="text-align: left">The default full UI shows status in realtime and displays that Mover is running. The minimal UI is similar to the “We’re getting this ready…” screen</td>
    </tr>
  </tbody>
</table>

<p><img src="../assets/images/MoverAdminMigrationOptions_AllowExit.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<p><br /></p>
<h3 id="post-migration-options">Post Migration Options</h3>

<p>Here you configure what to perform or wait for after a device has migrated or what to wait for to consider a device has migrated successfully</p>

<p><img src="../assets/images/MoverAdminPostMigrationOptionsSettings.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Setting</th>
      <th style="text-align: left">Description</th>
      <th style="text-align: left">Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Use Post-Migration Script</td>
      <td style="text-align: left">Instructs Mover to run a specified Powershell script after migration</td>
      <td style="text-align: left">When set to <code class="language-plaintext highlighter-rouge">On</code>, the Administrator can specify the <strong>filename</strong> of the Powershell script that <strong>already exists</strong> in the folder where Mover resides.</td>
    </tr>
    <tr>
      <td style="text-align: left">Reboot On Completion</td>
      <td style="text-align: left">Automatically reboot the device after a successful migration</td>
      <td style="text-align: left"> </td>
    </tr>
    <tr>
      <td style="text-align: left">Disable Renamed Account After Migration</td>
      <td style="text-align: left">Disable the specified local Administrator account after migration</td>
      <td style="text-align: left">By default, this is set to <code class="language-plaintext highlighter-rouge">On</code> when <em>creating</em> an Administrator account.</td>
    </tr>
    <tr>
      <td style="text-align: left">Wait for Omnissa Tunnel</td>
      <td style="text-align: left">Wait for Omnissa Tunnel to install after enrollment before considering migration complete</td>
      <td style="text-align: left">This must be set to <code class="language-plaintext highlighter-rouge">On</code> if specifying Wait For Offline Domain Join as <code class="language-plaintext highlighter-rouge">On</code></td>
    </tr>
    <tr>
      <td style="text-align: left">Wait for Offline Domain Join</td>
      <td style="text-align: left">Wait for Offline Domain Join configuration to be received before considering migration complete</td>
      <td style="text-align: left">If set to <code class="language-plaintext highlighter-rouge">On</code> you must also wait for Omnissa Tunnel</td>
    </tr>
  </tbody>
</table>

<p><br /></p>
<h2 id="validating-settings">Validating Settings</h2>

<p>Before saving the configuration from MoverAdmin to settings.json, validation occurs to ensure there are no conflicting settings.</p>

<p><img src="../assets/images/MoverAdmin_ErrorValidatingSettingsOnSave.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<p>Similarly, if you open MoverAdmin and there’s an existing settings.json file, it will be opened and validated. If any conflicting settings are found, (for example after changing a value in the file manually) an message will be displayed.</p>

<p><img src="../assets/images/MoverAdmin_ErrorValidatingSettingsOnLaunch.png" alt="Alt text" title="Mover Admin Screenshot" /></p>

<p><br /></p>
<h2 id="deployment">Deployment</h2>

<h3 id="workspace-one-uem">Workspace ONE UEM</h3>

<p>After configuring your settings.json file, you now need to deliver <code class="language-plaintext highlighter-rouge">Mover.exe</code>, <code class="language-plaintext highlighter-rouge">MoverAdmin.exe</code> and <code class="language-plaintext highlighter-rouge">settings.json</code> to the devices to be migrated. These files can be stored anywhere on the device, however it is recommended to store these somewhere that Standard Users cannot access for security purposes.</p>

<p>One option to deliver the files using Workspace ONE is to combine all the Mover files into a single .zip file.</p>

<p>You can then deploy this .zip file as a <strong>Native Internal Application</strong> in Workspace ONE UEM where the device is <strong>currently</strong> enrolled. After uploading the .zip file, use the following settings:</p>

<h3 class="no_toc" id="1️-set-the-install-command-to-be-moverexe">1.️ Set the Install Command to be <code class="language-plaintext highlighter-rouge">Mover.exe</code></h3>

<p><img src="../assets/images/ws1install1.png" alt="install command" /></p>

<h3 class="no_toc" id="2-set-the-uninstall-command-to-be-rm--force-crecoveryoemmover">2. Set the Uninstall Command to be <code class="language-plaintext highlighter-rouge">rm -force C:\Recovery\OEM\Mover</code></h3>

<p><img src="../assets/images/ws1install2.png" alt="uninstall command" /></p>

<h3 class="no_toc" id="3-set-the-uninstall-command-as-file-exists--crecoveryoemmovermoverexe">3. Set the Uninstall Command as <code class="language-plaintext highlighter-rouge">file exists = C:\Recovery\OEM\Mover\Mover.exe</code></h3>

<p><img src="../assets/images/ws1install3.png" alt="install criteria" /></p>

<blockquote>
  <h3 class="no_toc" id="️-important-1">⚠️ Important</h3>
  <p>A change from version 1.x of Mover, this no longer immediately initiates a migration. When setting the install command to be Mover.exe without any parameters, Mover will gracefully exit indicating a successful install.</p>
</blockquote>

<p>You should now set the Assignment Criteria and the Deployment to Automatic to ensure that the Mover migration files are staged ready for a migration at a later time.</p>

<h3 id="intune">Intune</h3>

<p>After configuring your settings.json file, you now need to deliver <code class="language-plaintext highlighter-rouge">Mover.exe</code>, <code class="language-plaintext highlighter-rouge">MoverAdmin.exe</code> and <code class="language-plaintext highlighter-rouge">settings.json</code> to the devices to be migrated. These files can be stored anywhere on the device, however it is recommended to store these somewhere that Standard Users cannot access for security purposes.</p>

<p>To proceed with preparing the migration from Intune, combine all the Mover files into a single directory.</p>

<p>If you do not have the <strong>Intune Win32 Content Prep Tool</strong> you can download it <a href="https://github.com/microsoft/Microsoft-Win32-Content-Prep-Tool">here.</a> This is used for creating the .intunewin file for uploading to the Intune console.</p>

<blockquote>
  <h3 class="no_toc" id="️-important-2">⚠️ Important</h3>
  <p>When using the tool, the <strong>source</strong> directory is the whole Mover directory. The <strong>install command</strong> will be Mover.exe.</p>
</blockquote>

<p>Now upload the .intunewin file to your Intune Management Console using the below settings:</p>

<p><img src="../assets/images/intuneinstall1.png" alt="install command" /></p>

<p><img src="../assets/images/intuneinstall2.png" alt="install command" /></p>

<blockquote>
  <h3 class="no_toc" id="️-important-3">⚠️ Important</h3>
  <p>A change from version 1.x of Mover, this no longer immediately initiates a migration. When setting the install command to be Mover.exe without any parameters, Mover will gracefully exit indicating a successful install.</p>
</blockquote>

<p>You should assign this application as <strong>required</strong>, to ensure that the Mover files are staged to the device to prepare for migration at a later time.</p>

<p><br /></p>
<h2 id="initiating-a-migration">Initiating a Migration</h2>

<p>In order to initiate a migration on the device, the following command needs to be issued <strong>to the device</strong>:</p>

<p><code class="language-plaintext highlighter-rouge">MoverAdmin.exe --initiate-migration</code></p>

<h3 id="workspace-one-uem-1">Workspace ONE UEM</h3>

<p>Where Workspace ONE UEM is the Source MDM, you can issue this command as a <strong>script</strong> and optionally use this script inside a UEM Workflow. To ensure that the Workspace ONE UEM Managed device receives the command correctly, can you use the below Powershell code as the contents of the script:</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">Start-Process "C:\OEM\Recovery\Mover\MoverAdmin.exe" -ArgumentList @(
   '--initiate-migration'
)</code></p>
</blockquote>

<h3 class="no_toc" id="️-important-4">⚠️ Important</h3>
<p>Ensure you set the Execution Context to <code class="language-plaintext highlighter-rouge">System Context</code></p>

<p><img src="../assets/images/MoverPowershellScript.png" alt="Powershell Script" /></p>
<h3 class="no_toc" id="ℹ️-note">ℹ️ Note</h3>
<p>Ensure you adjust the path in the command if you install Mover to a different location.</p>

<h3 id="intune-1">Intune</h3>

<p>When using Intune as the source MDM, the options to trigger the migration are a bit more limited.</p>

<p>The script functionality within Intune does not allow for On-Demand triggering. Given this, you can still push the same script as above but it will process whenever the device receives the command. You can use the ‘Platform Scripts’ function and assign it to the devices you want to migrate. This will immediately start the migration.</p>

<h3 class="no_toc" id="️-important-5">⚠️ Important</h3>
<p>Ensure you set the Execution Context to <code class="language-plaintext highlighter-rouge">System Context</code></p>

<p><img src="../assets/images/IntunePowershellScript.png" alt="Powershell Script" /></p>

<h3 class="no_toc" id="ℹ️-note-1">ℹ️ Note</h3>
<p>Ensure you adjust the path in the command if you install Mover to a different location.</p>

<p><strong>The other option</strong> for Intune would be to change the ‘Install Command’ in the Intune Deployment section <strong>above</strong> to be:</p>

<p><code class="language-plaintext highlighter-rouge">MoverAdmin.exe --initiate-migration</code></p>

<p>This will immediately trigger the migration process upon installation of the Mover.intunewin package.</p>

            </article>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>


    </div>
</body>

</html>